_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{"0lIN":function(n,t,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/crud/blogs",function(){return c("BzMX")}])},BzMX:function(n,t,c){"use strict";c.r(t);var e=c("nKUr"),o=c("l4kR"),r=c("vC6e"),u=(c("YFqc"),c("q1tI")),i=(c("20a2"),c("wd/R")),a=c.n(i),s=c("iuBY"),l=(c("abxw"),c("SMr6"),c("zycw")),f=function(){var n=Object(u.useState)([]),t=n[0],c=n[1],o=Object(u.useState)(""),r=o[0],i=o[1],f=Object(s.b)("token");Object(u.useEffect)((function(){d()}),[]);var d=function(){Object(l.b)().then((function(n){n.error?console.log("Error loading blogs: ",n.error):c(n)}))},h=function(n){window.confirm("Are you sure you want to delete this?")&&function(n){Object(l.f)(n,f).then((function(n){n.error?console.log("Error deleting blog: ",n.error):(i(n.message),d())}))}(n)},j=function(n){return Object(s.c)()&&0===Object(s.c)().role?Object(e.jsx)("a",{href:"/user/crud/".concat(n.slug),children:"Update"}):Object(s.c)()&&1===Object(s.c)().role?Object(e.jsx)("a",{href:"/admin/crud/".concat(n.slug),children:"Update"}):void 0};return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("h5",{children:"Update/Delete blogs"}),r&&Object(e.jsx)("div",{children:r}),Object(e.jsx)("ul",{children:t.map((function(n,t){return Object(e.jsxs)("li",{children:[Object(e.jsx)("h3",{children:n.title}),Object(e.jsxs)("small",{children:["Written by ",n.author.name," | Published ",a()(n.updatedAt).fromNow()]}),Object(e.jsx)("button",{onClick:function(){return h(n.slug)},children:"Delete"}),j(n)]},t)}))})]})};t.default=function(){return Object(e.jsx)(o.a,{children:Object(e.jsxs)(r.a,{children:[Object(e.jsx)("h2",{children:"Manage blogs"}),Object(e.jsx)(f,{})]})})}},SMr6:function(n,t,c){"use strict";c.d(t,"a",(function(){return u})),c.d(t,"b",(function(){return i})),c.d(t,"d",(function(){return a})),c.d(t,"c",(function(){return s}));var e=c("LpSC"),o=c.n(e),r=c("obyI"),u=function(n,t){return o()("".concat(r.a,"/tag"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)}).then((function(n){return n.json()})).catch((function(n){return console.log(n)}))},i=function(){return o()("".concat(r.a,"/tags"),{method:"GET"}).then((function(n){return n.json()})).catch((function(n){return console.log(n)}))},a=function(n){return o()("".concat(r.a,"/tag/").concat(n),{method:"GET"}).then((function(n){return n.json()})).catch((function(n){return console.log(n)}))},s=function(n,t){return o()("".concat(r.a,"/tag/").concat(n),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(n){return n.json()})).catch((function(n){return console.log(n)}))}},abxw:function(n,t,c){"use strict";c.d(t,"a",(function(){return u})),c.d(t,"b",(function(){return i})),c.d(t,"d",(function(){return a})),c.d(t,"c",(function(){return s}));var e=c("LpSC"),o=c.n(e),r=c("obyI"),u=function(n,t){return o()("".concat(r.a,"/category"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)}).then((function(n){return n.json()})).catch((function(n){return console.log(n)}))},i=function(){return o()("".concat(r.a,"/categories"),{method:"GET"}).then((function(n){return n.json()})).catch((function(n){return console.log(n)}))},a=function(n){return o()("".concat(r.a,"/category/").concat(n),{method:"GET"}).then((function(n){return n.json()})).catch((function(n){return console.log(n)}))},s=function(n,t){return o()("".concat(r.a,"/category/").concat(n),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(n){return n.json()})).catch((function(n){return console.log(n)}))}},vC6e:function(n,t,c){"use strict";var e=c("nKUr"),o=c("q1tI"),r=c("20a2"),u=c.n(r),i=c("iuBY");t.a=function(n){var t=n.children;return Object(o.useEffect)((function(){Object(i.c)()?1!==Object(i.c)().role&&u.a.push("/"):u.a.push("/signin")}),[]),Object(e.jsx)(e.Fragment,{children:t})}}},[["0lIN",1,0,4,2,3,5]]]);